@page
@model IndexModel
@{
    ViewData["Title"] = "Administrative User Test";
    ViewData["FormResult"] = "";
}
<div class="pagetitle text-center">
    <h1 class="display-3">AGDATA Development Assessment</h1>
    <h2 class="display-4">Administrative User Test</h2>
</div>
<span class="actions">
    <a href="#" onclick="ShowEditForm(); return false;"><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="12" r="8" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M42 44C42 34.0589 33.9411 26 24 26C14.0589 26 6 34.0589 6 44" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M19 39H29" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M24 34V44" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
    <a asp-page-handler="OpenDBMS"><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M34 12V20V21C31.0449 21 28.3892 22.2818 26.5585 24.3198C24.9678 26.0906 24 28.4323 24 31C24 31.5789 24.0492 32.1463 24.1436 32.6983C24.6579 35.7046 26.5143 38.2529 29.0741 39.7046C26.4116 40.5096 22.8776 41 19 41C10.7157 41 4 38.7614 4 36V28V20V12" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M34 12C34 14.7614 27.2843 17 19 17C10.7157 17 4 14.7614 4 12C4 9.23858 10.7157 7 19 7C27.2843 7 34 9.23858 34 12Z" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 28C4 30.7614 10.7157 33 19 33C20.807 33 22.5393 32.8935 24.1436 32.6983" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 20C4 22.7614 10.7157 25 19 25C21.7563 25 24.339 24.7522 26.5585 24.3198" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M44 31C44 36.5228 39.5228 41 34 41C32.2091 41 30.5281 40.5292 29.0741 39.7046C26.5143 38.2529 24.6579 35.7046 24.1436 32.6983C24.0492 32.1463 24 31.5789 24 31C24 28.4323 24.9678 26.0906 26.5585 24.3198C28.3892 22.2818 31.0449 21 34 21C39.5228 21 44 25.4772 44 31Z" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M34.0002 27V31M37.4643 29L34.0002 31M37.4643 33L34.0002 31M34.0002 35V31M30.5361 33L34.0002 31M30.5361 29L34.0002 31" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
</span>
<form id="resultstable" method="post">
<div class="results">
    <span class="row header">
        <span class="columnheader">Name</span>
        <span class="columnheader fill">Address</span>
        <span class="columnheader">Created</span>
        <span class="columnheader">Updated</span>
        <span class="columnheader">Actions</span>
    </span>
    @foreach (CustomerData customer in Model.AllCustomers)
    {
        <span class="row">
            <span class="column">@customer.Name</span>
            <span class="column fill">@customer.Address</span>
            <span class="column">@customer.Created.ToString()</span>
            <span class="column">@customer.Updated.ToString()</span>
            <span class="column">
                <a asp-page-handler="SelectCustomer" asp-route-id="@customer.Id"><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#icon-067d74e52696ccc)"><path d="M30.9995 8.99902L38.9995 16.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M7.99953 31.999L35.9994 4L43.9995 11.999L15.9995 39.999L5.99951 41.999L7.99953 31.999Z" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M30.9995 8.99902L38.9995 16.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.99951 31.999L15.9995 38.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M12.9995 34.999L34.9995 12.999" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></g><defs><clipPath id="icon-067d74e52696ccc"><rect width="48" height="48" fill="#333"/></clipPath></defs></svg></a>
                <a asp-page-handler="DeleteCustomer" asp-route-id="@customer.Id"><?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="12" r="8" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M42 44C42 34.0589 33.9411 26 24 26C14.0589 26 6 34.0589 6 44" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 36L28 44" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M28 36L20 44" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
            </span>
        </span>
    }
</div>
</form>
<div class="form" style="display:none;">
    <form method="post">
        <span class="formheader">Customer Data Form</span>
        Customer ID:<input name="id" asp-for="SelectedCustomer!.Id" placeholder="New Customer" readonly/>
        Name:<input name="name" asp-for="SelectedCustomer!.Name" required />
        Address:<input name="address" asp-for="SelectedCustomer!.Address" />
        <span>
            <button onclick="HideEditForm(); return false;">Cancel</button>
            <input type="submit" asp-page-handler="ModifyCustomer" value="Submit" />
        </span>
    </form>
</div>
<span class="status">@Html.DisplayFor(modelItem => modelItem.FormResponse)</span>
@if(Model.SelectedCustomer.Id != null)
{
<script type="text/javascript">
    $(function() {
        ShowEditForm();
    });
</script>
}